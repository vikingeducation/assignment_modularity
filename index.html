<!DOCTYPE html>
<html ng-app = "puppiesAPI">
<head>
 <title>Puppies Shelter</title>
 <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
 <link rel="stylesheet" href="styles.css">

 <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular.min.js"></script>
 <script type="text/javascript" src = "js/app.js"></script>
 <script type="text/javascript" src = "js/services/breeds.js"></script>
 <script type="text/javascript" src = "js/services/puppies.js"></script>

 <script type="text/javascript" src = "js/directives/puppyItem.js"></script>
</head>
<body class = "container" ng-controller = "puppiesCtrl">

 <div id = "flash" class="hidden alert alert-warning alert-dismissible fade-in" role="alert">
 </div>

 <div class="row">
   <div class = "col-md-12 text-center">
     <h1>The Puppy Shelter</h1>
   </div>
 </div>

 <div class="row">
   <div class = "col-md-6 col-md-offset-3 col-xs-8 col-xs-offset-2 text-center">
     <h2>Register a new puppy</h2>

     <form ng-submit = "createPuppy({name: puppyName, breed_id: breedId})">
       <div class="form-group">
         <label>Name</label>
         <input type="text" ng-model = "puppyName" placeholder="Puppy Name" class = "form-control">
       </div>

       <div class="form-group">
         <label>Breed</label>
         <select class = "form-control" id = "breed" name = "breed" ng-model = "breedId" >
         <option value="{{breed.id}}"ng-repeat="breed in breeds">{{breed.name}}</option>
         </select>
       </div>

       <div class="form-group">
         <input type = "submit" id='register' class="btn btn-primary btn-lg btn-block" value="Register Puppy">
       </div>
     </form>
   </div>
 </div>

 <div class="row">
   <div class = "col-md-8 col-md-offset-2 col-xs-10 col-xs-offset-1">
      <h2>Our puppies</h2>

      <p>Sort By:</p>
      <select ng-model = "sortQuery" class="form-control">
        <option value = "">Default</option>
        <option value = "-name">Name (Desc)</option>
        <option value = "+name">Name (Asc)</option>
        <option value = "-breed.name">Breed (Desc)</option>
        <option value = "+breed.name">Breed (Asc)</option>
        <option value = "-created_at">Registered Date (Desc)</option>
        <option value = "+created_at">Registered Date (Asc)</option>

      </select>

      <hr>

     <ul id = "puppies-list">
      <li ng-repeat='puppy in puppies | orderBy: sortQuery'>
        <puppy-item puppy = "puppy" adopt-puppy = "adoptPuppy(puppy.id)"></puppy-item>
      </li>
     </ul>
   </div>
 </div>

</body>
</html>